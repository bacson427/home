<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Album 15 Tờ Kỷ Niệm</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #ffc2d1; /* Hồng nền */
            --card-width: 300px;
            --card-height: 450px;
        }

        body {
            background-color: var(--bg-color);
            /* Tạo nền sọc chéo nhẹ nhàng */
            background-image: repeating-linear-gradient(45deg, #ffc2d1 25%, #ffe3e8 25%, #ffe3e8 50%, #ffc2d1 50%, #ffc2d1 75%, #ffe3e8 75%, #ffe3e8 100%);
            background-size: 40px 40px;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: sans-serif;
            perspective: 1500px; /* Quan trọng để tạo độ sâu 3D */
        }

        .album-container {
            position: relative;
            width: var(--card-width);
            height: var(--card-height);
            transform-style: preserve-3d;
        }

        /* Thiết kế chung cho mỗi tờ giấy */
        .sheet {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform-origin: left center; /* Điểm xoay là gáy sách bên trái */
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1);
            cursor: pointer;
            border-radius: 5px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }

        /* Mặt trước và mặt sau của tờ giấy */
        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* Ẩn mặt sau khi đang nhìn mặt trước */
            border-radius: 5px;
            overflow: hidden;
            border: 4px solid #fff; /* Viền trắng ảnh */
            background: #fff;
        }

        /* --- MẶT TRƯỚC: CHỨA ẢNH --- */
        .front {
            z-index: 2;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .front img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* --- MẶT SAU: TRANG TRÍ --- */
        .back {
            z-index: 1;
            transform: rotateY(180deg); /* Xoay sẵn 180 độ */
            background-color: #fffdfo;
            /* Họa tiết trái tim nhỏ ở mặt sau */
            background-image: radial-gradient(#ff9eb5 15%, transparent 16%), radial-gradient(#ff9eb5 15%, transparent 16%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .back::after {
            content: "Miss You";
            font-family: 'Dancing Script', cursive;
            font-size: 2em;
            color: #d4889e;
            background: rgba(255,255,255,0.8);
            padding: 10px 20px;
            border-radius: 50px;
            transform: rotateY(180deg); /* Chữ phải xoay ngược lại để khi lật trang đọc được xuôi */
        }
        
        /* Hiệu ứng bóng đổ khi trang lật lên */
        .sheet.flipped {
            transform: rotateY(-180deg);
        }

        /* Đánh số trang nhỏ */
        .page-number {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }

        /* --- BÌA (Ảnh 1) --- */
        .sheet:first-child .front {
            border: 6px solid #ff9eb5; /* Viền bìa dày hơn và màu hồng */
        }
        .sheet:first-child .front::before {
            content: "My Album";
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.8);
            padding: 5px 20px;
            border-radius: 20px;
            font-family: 'Dancing Script', cursive;
            font-weight: bold;
            font-size: 1.5em;
            color: #ff5e83;
            z-index: 10;
        }

    </style>
</head>
<body>

    <div class="album-container" id="album">
        </div>

    <script>
        const images = [
            "https://nguyenbacson.io.vn/miss-you/1.jpeg",
            "https://nguyenbacson.io.vn/miss-you/2.jpeg",
            "https://nguyenbacson.io.vn/miss-you/3.jpeg",
            "https://nguyenbacson.io.vn/miss-you/4.jpeg",
            "https://nguyenbacson.io.vn/miss-you/5.jpeg",
            "https://nguyenbacson.io.vn/miss-you/6.jpeg",
            "https://nguyenbacson.io.vn/miss-you/7.jpeg",
            "https://nguyenbacson.io.vn/miss-you/8.jpeg",
            "https://nguyenbacson.io.vn/miss-you/9.jpeg",
            "https://nguyenbacson.io.vn/miss-you/10.jpeg",
            "https://nguyenbacson.io.vn/miss-you/11.jpeg",
            "https://nguyenbacson.io.vn/miss-you/12.jpeg",
            "https://nguyenbacson.io.vn/miss-you/13.jpeg",
            "https://nguyenbacson.io.vn/miss-you/14.jpeg",
            "https://nguyenbacson.io.vn/miss-you/15.jpeg"
        ];

        const album = document.getElementById('album');
        const totalSheets = images.length;

        // Tạo từng tờ giấy
        images.forEach((imgSrc, index) => {
            const sheet = document.createElement('div');
            sheet.classList.add('sheet');
            
            // QUAN TRỌNG: Sắp xếp Z-index
            // Tờ đầu tiên (index 0) phải nằm trên cùng (z-index cao nhất)
            // Tờ cuối cùng nằm dưới đáy
            sheet.style.zIndex = totalSheets - index;

            // HTML nội dung tờ giấy
            sheet.innerHTML = `
                <div class="front">
                    <img src="${imgSrc}" alt="Ảnh ${index + 1}">
                    <span class="page-number">${index + 1}/${totalSheets}</span>
                </div>
                <div class="back">
                    </div>
            `;

            // Xử lý sự kiện click
            sheet.addEventListener('click', function() {
                if (this.classList.contains('flipped')) {
                    // Đang lật rồi -> Đóng lại (về bên phải)
                    this.classList.remove('flipped');
                    
                    // Khi đóng lại, nó phải đè lên các trang bên phải
                    // Trả lại z-index gốc
                    setTimeout(() => {
                        this.style.zIndex = totalSheets - index;
                    }, 500); // Đợi nửa chừng hiệu ứng rồi mới đổi z-index để mượt hơn
                    
                } else {
                    // Chưa lật -> Lật sang trái (Mở ra)
                    this.classList.add('flipped');
                    
                    // Khi lật sang trái, nó phải nằm TRÊN các trang đã lật trước đó
                    // Ví dụ: Trang 2 lật sang phải nằm đè lên trang 1 đã lật
                    this.style.zIndex = index + 1; // Logic Z-index đảo ngược cho chồng bên trái
                }
            });

            album.appendChild(sheet);
        });
    </script>
</body>
</html>
