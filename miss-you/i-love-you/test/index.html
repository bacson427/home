<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>G·ª≠i D∆∞∆°ng 01/03 ‚ù§Ô∏è</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Comfortaa:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden;
            background: #000; color: #fff;
            /* Font m·∫∑c ƒë·ªãnh d·ªÖ th∆∞∆°ng */
            font-family: 'Comfortaa', cursive;
        }

        /* N·ªÅn chuy·ªÉn ƒë·ªông ·∫£o di·ªáu */
        .animated-bg {
            position: absolute; width: 200%; height: 200%;
            top: -50%; left: -50%; z-index: 0;
            background: radial-gradient(circle, #4a0010, #22000a, #000000);
            background-size: 200% 200%;
            animation: gradientMove 15s ease infinite;
        }
        @keyframes gradientMove { 0% { transform: translate(0, 0); } 50% { transform: translate(-20px, -20px); } 100% { transform: translate(0, 0); } }

        .stars {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: radial-gradient(1.5px 1.5px at 20px 30px, #fff, rgba(0,0,0,0)), radial-gradient(1.5px 1.5px at 40px 70px, #fff, rgba(0,0,0,0)), radial-gradient(1px 1px at 90px 40px, #fff, rgba(0,0,0,0));
            background-repeat: repeat; background-size: 200px 200px;
            animation: twinkle 5s infinite; opacity: 0.5; z-index: 1;
        }
        @keyframes twinkle { 0%, 100% {opacity:0.5} 50% {opacity:0.2} }

        .content {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 10; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            padding: 20px; text-align: center;
        }

        /* --- CH·ªÆ C√ì H·ªíN --- */
        #main-text {
            font-family: 'Dancing Script', cursive; /* Font vi·∫øt tay */
            font-size: 8vw; /* Ch·ªØ to v·ª´a ph·∫£i */
            line-height: 1.6;
            color: #ffc2d1;
            text-shadow: 0 0 10px rgba(255, 194, 209, 0.5); /* Hi·ªáu ·ª©ng t·ªèa s√°ng nh·∫π */
            min-height: 200px; opacity: 0;
            margin-bottom: 30px;
        }

        .highlight { color: #ff0055; text-shadow: 0 0 15px rgba(255, 0, 85, 0.8); }

        .btn-start {
            padding: 15px 35px; border: 1px solid rgba(255, 77, 109, 0.5);
            background: rgba(20, 0, 5, 0.6); color: #ff4d6d;
            border-radius: 50px; font-size: 1.1rem; font-family: 'Comfortaa', cursive;
            box-shadow: 0 0 20px rgba(255, 77, 109, 0.2);
            animation: pulse 2s infinite; backdrop-filter: blur(5px);
        }

        #ask-section { display: none; width: 100%; margin-top: 10px; }
        .btn-group { display: flex; flex-direction: column; gap: 15px; align-items: center; width: 100%; }
        
        .btn { 
            width: 85%; padding: 16px; border-radius: 50px; border: none; 
            font-family: 'Comfortaa', cursive; font-weight: bold; font-size: 1.2rem; color: white;
        }
        #yes { background: linear-gradient(45deg, #ff0055, #ff5e88); box-shadow: 0 5px 20px rgba(255,0,85,0.4); }
        #no { background: rgba(255,255,255,0.1); color: #bbb; border: 1px solid #444; }

        /* B·∫£ng ch·ªët h·∫° */
        #final-message {
            display: none; width: 90%;
            background: rgba(30, 0, 10, 0.8);
            border: 1px solid rgba(255, 100, 150, 0.3);
            border-radius: 25px; padding: 30px 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
        }
        #final-message h2 { 
            color: #ff0055; margin: 0 0 15px 0; font-family: 'Dancing Script', cursive; font-size: 2.5rem; 
        }
        #final-message p { color: #ffe0e6; font-size: 1.1rem; line-height: 1.8; }

        .flying-heart { position: fixed; font-size: 24px; bottom: -30px; pointer-events: none; z-index: 5; animation: fly 5s linear forwards; }
        @keyframes fly { to { transform: translateY(-110vh) rotate(360deg); opacity: 0; } }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
    </style>
</head>
<body>
    <div class="animated-bg"></div>
    <div class="stars"></div>

    <div class="content" id="main-content">
        <div id="start-screen">
            <button class="btn-start" onclick="startExperience()">G·ª≠i D∆∞∆°ng (Nh·∫•n v√†o ƒë√¢y) üíå</button>
            <p style="margin-top:15px; font-size: 0.8rem; color: #888; opacity: 0.8;">ƒêeo tai nghe ƒë·ªÉ c·∫£m nh·∫≠n nh√©</p>
        </div>

        <h1 id="main-text"></h1>

        <div id="ask-section">
            <div class="btn-group">
                <button class="btn" id="yes" onclick="accepted()">ƒê·ªìng √Ω l√†m ng∆∞·ªùi y√™u S∆°n ‚ù§Ô∏è</button>
                <button class="btn" id="no" onclick="moveButton(this)">Ch·ªâ l√† b·∫°n th√¥i</button>
            </div>
        </div>

        <div id="final-message">
            <h2>H·∫øt ki·∫øp Friendzone! üéâ</h2>
            <p>
                C·∫£m ∆°n em ƒë√£ d≈©ng c·∫£m b∆∞·ªõc qua ranh gi·ªõi b·∫°n b√® ƒë·ªÉ ƒë·∫øn b√™n S∆°n.<br><br>
                Sinh nh·∫≠t tu·ªïi 19 vui v·∫ª nh√©, c√¥ g√°i c·ªßa anh.<br>
                T·ª´ h√¥m nay, h√£y ƒë·ªÉ S∆°n lo ph·∫ßn c√≤n l·∫°i. ‚ù§Ô∏è
            </p>
        </div>
    </div>

    <audio id="bg-music" src="https://nguyenbacson.io.vn/nguyenbacson-missyou.mp3"></audio>

    <script>
        const music = document.getElementById('bg-music');
        const mainText = document.getElementById('main-text');
        const startScreen = document.getElementById('start-screen');
        const askSection = document.getElementById('ask-section');
        const finalMessage = document.getElementById('final-message');
        
        let checkTime;

        function updateText(text) {
            // Hi·ªáu ·ª©ng m·ªù ch·ªØ c≈© ƒëi
            anime({
                targets: '#main-text', opacity: 0, translateY: -20, duration: 500, easing: 'easeInQuad',
                complete: function() {
                    mainText.innerHTML = text;
                    // Hi·ªán ch·ªØ m·ªõi l√™n
                    anime({
                        targets: '#main-text', opacity: 1, translateY: [20, 0], duration: 1500, easing: 'easeOutExpo'
                    });
                }
            });
        }

        function startExperience() {
            anime({ targets: '#start-screen', opacity: 0, duration: 800, complete: () => startScreen.style.display = 'none' });
            music.play();
            
            // K·ªäCH B·∫¢N THO·∫†I (Script) - ƒê√£ ch·ªânh s·ª≠a cho t√¨nh c·∫£m h∆°n
            updateText("D∆∞∆°ng √†...");

            checkTime = setInterval(() => {
                const t = Math.floor(music.currentTime);
                
                // 8s: Ch√∫c m·ª´ng sinh nh·∫≠t nh·∫π nh√†ng
                if (t === 8) updateText("Ch√∫c m·ª´ng sinh nh·∫≠t tu·ªïi 19.<br>Tu·ªïi ƒë·∫πp nh·∫•t c·ªßa em, v√† c≈©ng l√† c·ªßa ch√∫ng ta.");
                
                // 20s: Nh·∫Øc v·ªÅ k·ª∑ ni·ªám/c·∫£m x√∫c
                if (t === 20) updateText("Ng∆∞·ªùi ta b·∫£o t√¨nh b·∫°n ƒë·∫πp...<br>Nh∆∞ng S∆°n tham lam l·∫Øm, S∆°n mu·ªën nhi·ªÅu h∆°n th·∫ø.");
                
                // 32s: D·∫´n d·∫Øt
                if (t === 32) updateText("S∆°n kh√¥ng mu·ªën ch·ªâ l√† m·ªôt ng∆∞·ªùi b·∫°n ·ªü tr·ªç c√πng khu n·ªØa...");
                
                // 40s: CH·ªêT (ƒêo·∫°n n√†y ch·ªØ s·∫Ω to l√™n)
                if (t >= 40) {
                    clearInterval(checkTime);
                    anime({
                        targets: '#main-text', opacity: 0, duration: 500,
                        complete: function() {
                            // ƒê·ªïi font cho c√¢u h·ªèi quan tr·ªçng ƒë·ªÉ d·ªÖ ƒë·ªçc h∆°n
                            mainText.style.fontFamily = "'Comfortaa', cursive"; 
                            mainText.style.fontWeight = "bold";
                            mainText.innerHTML = `M√¨nh ƒë·ª´ng l√†m b·∫°n n·ªØa nh√©...<br><span class="highlight" style="font-size: 1.5em; display:block; margin-top:15px">L√†m ng∆∞·ªùi y√™u S∆°n nha?</span>`;
                            
                            anime({ targets: '#main-text', opacity: 1, scale: [0.9, 1], duration: 1200 });
                            askSection.style.display = 'block';
                            anime({ targets: '#ask-section', opacity: [0, 1], translateY: [30, 0], duration: 1000, delay: 500 });
                        }
                    });
                }
            }, 1000);
        }

        function moveButton(btn) {
            const w = window.innerWidth - 120;
            const h = window.innerHeight - 100;
            const newX = Math.random() * w;
            const newY = Math.random() * h;
            btn.style.position = 'fixed'; btn.style.left = newX + 'px'; btn.style.top = newY + 'px';
            
            // ƒê·ªïi n·ªôi dung n√∫t khi b·∫•m tr∆∞·ª£t ƒë·ªÉ tr√™u
            const phrases = ["Kh√¥ng ƒë∆∞·ª£c!", "Ch·ªçn l·∫°i ƒë√™", "L√™u l√™u", "ƒê·ª´ng h√≤ng tho√°t", "B·∫•m n√∫t tr√™n k√¨a"];
            btn.innerText = phrases[Math.floor(Math.random() * phrases.length)];
        }

        function accepted() {
            askSection.style.display = 'none';
            mainText.style.display = 'none';
            finalMessage.style.display = 'block';
            
            anime({
                targets: '#final-message', opacity: [0, 1], scale: [0.8, 1], rotate: [5, 0],
                duration: 1000, easing: 'spring(1, 80, 10, 0)'
            });

            createHeartRain();
        }

        function createHeartRain() {
            const count = 40; 
            const colors = ['#ff0055', '#ff4d6d', '#ff99ac', '#ffffff'];
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.classList.add('flying-heart');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.left = Math.random() * 90 + 'vw';
                    heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
                    heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
                    heart.style.color = colors[Math.floor(Math.random() * colors.length)];
                    document.body.appendChild(heart);
                    setTimeout(() => heart.remove(), 6000);
                }, i * 100);
            }
        }
    </script>
</body>
</html>
