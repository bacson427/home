<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Album Kỷ Niệm - Book Effect</title>
    <style>
        /* --- Cấu hình chung --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            /* Background màu hồng theo yêu cầu */
            background-color: #ffc0cb; 
            background-image: linear-gradient(120deg, #fccb90 0%, #d57eeb 100%); /* Gradient nhẹ cho đẹp hơn */
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }

        /* --- Khung cuốn sách --- */
        .book {
            position: relative;
            width: 350px;       /* Chiều rộng trang sách */
            height: 500px;      /* Chiều cao trang sách */
            perspective: 1500px; /* Tạo độ sâu 3D */
            cursor: pointer;
        }

        /* --- Các trang sách --- */
        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transform-origin: left; /* Lật từ gáy trái */
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border-radius: 5px;
        }

        /* Mặt trước và mặt sau của một tờ giấy */
        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* Ẩn mặt sau khi nhìn mặt trước */
            border-radius: 5px;
            overflow: hidden;
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Mặt trước */
        .front {
            z-index: 2;
        }

        /* Mặt sau (xoay 180 độ sẵn) */
        .back {
            transform: rotateY(180deg);
            z-index: 1;
            background-color: #fdfdfd;
        }

        /* Định dạng ảnh trong trang */
        .page img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Đảm bảo ảnh phủ kín trang */
            border: 2px solid white; /* Viền trắng nhẹ giống ảnh polaroid */
        }

        /* Class khi trang được lật */
        .flipped {
            transform: rotateY(-180deg);
        }

        /* Hướng dẫn sử dụng nhỏ ở góc */
        .guide {
            position: absolute;
            bottom: 20px;
            color: #fff;
            font-size: 14px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }
    </style>
</head>
<body>

    <div class="book" id="myBook">
        </div>

    <div class="guide">Nhấn vào sách để lật trang / Click to flip</div>

    <script>
        // Danh sách URL ảnh bạn cung cấp
        const images = [
            "https://nguyenbacson.io.vn/miss-you/1.jpeg",
            "https://nguyenbacson.io.vn/miss-you/2.jpeg",
            "https://nguyenbacson.io.vn/miss-you/3.jpeg",
            "https://nguyenbacson.io.vn/miss-you/4.jpeg",
            "https://nguyenbacson.io.vn/miss-you/5.jpeg",
            "https://nguyenbacson.io.vn/miss-you/6.jpeg",
            "https://nguyenbacson.io.vn/miss-you/7.jpeg",
            "https://nguyenbacson.io.vn/miss-you/8.jpeg",
            "https://nguyenbacson.io.vn/miss-you/9.jpeg",
            "https://nguyenbacson.io.vn/miss-you/10.jpeg",
            "https://nguyenbacson.io.vn/miss-you/11.jpeg",
            "https://nguyenbacson.io.vn/miss-you/12.jpeg",
            "https://nguyenbacson.io.vn/miss-you/13.jpeg",
            "https://nguyenbacson.io.vn/miss-you/14.jpeg",
            "https://nguyenbacson.io.vn/miss-you/15.jpeg"
        ];

        const bookContainer = document.getElementById('myBook');

        // Hàm tạo cấu trúc HTML cho sách
        function createBook() {
            // Mỗi tờ giấy có 2 mặt, nên ta bước nhảy là 2
            // Tổng số tờ giấy cần tạo
            const totalSheets = Math.ceil(images.length / 2);

            for (let i = 0; i < totalSheets; i++) {
                const page = document.createElement('div');
                page.classList.add('page');
                
                // Sắp xếp Z-index: Trang đầu tiên phải nằm trên cùng (z-index cao nhất)
                page.style.zIndex = totalSheets - i;

                // Lấy ảnh cho mặt trước
                const imgFrontSrc = images[i * 2];
                // Lấy ảnh cho mặt sau (nếu có)
                const imgBackSrc = images[i * 2 + 1];

                // Tạo HTML cho mặt trước và mặt sau
                // Nếu hết ảnh thì để trống hoặc hiển thị logo kết thúc
                const frontContent = imgFrontSrc ? `<img src="${imgFrontSrc}" alt="Photo ${i*2+1}">` : '';
                const backContent = imgBackSrc ? `<img src="${imgBackSrc}" alt="Photo ${i*2+2}">` : '<div style="color:pink; text-align:center;">The End<br>❤️</div>';

                page.innerHTML = `
                    <div class="front">${frontContent}</div>
                    <div class="back">${backContent}</div>
                `;

                // Thêm sự kiện Click để lật trang
                page.addEventListener('click', function() {
                    // Nếu trang này chưa lật -> Lật nó
                    if (!this.classList.contains('flipped')) {
                        this.classList.add('flipped');
                        // Đổi z-index để trang sau khi lật nằm dưới các trang đã lật trước đó
                        // (Mẹo nhỏ để xử lý lỗi hiển thị 3D trên một số trình duyệt)
                        setTimeout(() => {
                            this.style.zIndex = i; 
                        }, 500); 
                    } else {
                        // Nếu đang lật -> Đóng lại
                        this.classList.remove('flipped');
                        setTimeout(() => {
                            this.style.zIndex = totalSheets - i;
                        }, 500);
                    }
                });

                bookContainer.appendChild(page);
            }
        }

        // Khởi chạy
        createBook();
    </script>
</body>
</html>
