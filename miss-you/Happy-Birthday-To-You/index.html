<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HPBD D∆Ø∆†NG 19 ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@800&display=swap" rel="stylesheet">
    <style>
        /* --- C·∫§U H√åNH CHUNG --- */
        body { margin: 0; overflow: hidden; background-color: #050002; font-family: 'Montserrat', sans-serif; }
        canvas { display: block; position: absolute; top: 0; left: 0; z-index: 1; }

        /* Container ch√≠nh ƒë·ªÉ cƒÉn gi·ªØa m·ªçi th·ª© */
        #main-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 10; display: flex; flex-direction: column; 
            justify-content: center; align-items: center;
            pointer-events: none; /* ƒê·ªÉ b·∫•m xuy√™n qua canvas */
        }

        /* --- 1. M√ÄN H√åNH KH√ìA --- */
        #lock-screen {
            pointer-events: auto; text-align: center;
            background: rgba(20, 0, 5, 0.8); padding: 30px; border-radius: 20px;
            border: 1px solid #ff0055;
            box-shadow: 0 0 50px rgba(255, 0, 85, 0.4);
            transition: opacity 0.8s;
        }
        .lock-title { color: #fff; font-size: 1.2rem; letter-spacing: 2px; margin-bottom: 15px; }
        #timer { 
            font-size: 3rem; color: #ff0055; font-weight: 900; 
            text-shadow: 0 0 20px rgba(255, 0, 85, 0.8);
            margin-bottom: 20px;
        }
        .admin-btn {
            width: 40px; height: 40px; margin: 0 auto; cursor: pointer;
            fill: #555; transition: 0.3s;
        }
        .admin-btn:hover { fill: #ff0055; transform: scale(1.1); }

        /* --- 2. SHOW DI·ªÑN CH·ªÆ (TEXT SHOW) --- */
        #show-text {
            position: absolute; width: 100%; text-align: center;
            font-family: 'Dancing Script', cursive; 
            font-size: clamp(2.5rem, 8vw, 5rem); /* T·ª± ch·ªânh c·ª° ch·ªØ */
            color: #fff; 
            text-shadow: 0 0 20px #ff0055, 0 0 40px #ff0055;
            opacity: 0; transform: scale(0.5);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #show-text.active { opacity: 1; transform: scale(1); }

        /* --- 3. T√ÇM TH∆Ø (Hi·ªán ra sau show) --- */
        #letter-box {
            display: none; pointer-events: auto;
            width: 90%; max-width: 500px;
            background: rgba(255, 255, 255, 0.95);
            padding: 25px; border-radius: 15px;
            box-shadow: 0 0 60px rgba(255, 0, 85, 0.6);
            text-align: center; opacity: 0; transform: translateY(20px);
            transition: all 1s;
        }
        #letter-box.visible { opacity: 1; transform: translateY(0); }

        .letter-content {
            font-family: 'Dancing Script', cursive; font-size: 1.3rem; 
            color: #880022; line-height: 1.6; margin-bottom: 20px;
            white-space: pre-wrap; font-weight: bold;
        }

        /* N√∫t b·∫•m chuy·ªÉn trang */
        .heart-btn {
            background: #ff0055; color: white; border: none;
            padding: 12px 35px; border-radius: 50px;
            font-size: 1.1rem; font-weight: bold; cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 0, 85, 0.4);
            animation: pulse-btn 2s infinite;
        }
        @keyframes pulse-btn { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* M√†n h√¨nh tr·∫Øng chuy·ªÉn c·∫£nh */
        #flash-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 9999; opacity: 0; pointer-events: none;
            transition: opacity 1.5s; display: flex; justify-content: center; align-items: center;
            color: #ff0055; font-family: 'Dancing Script'; font-size: 2rem;
        }
    </style>
</head>
<body>
    <canvas id="bg-canvas"></canvas>

    <div id="main-container">
        
        <div id="lock-screen">
            <div class="lock-title">PROJECT DUONG_19</div>
            <div id="timer">00:00:00</div>
            <div class="admin-btn" onclick="adminUnlock()">
                <svg viewBox="0 0 24 24"><path d="M12 17a2 2 0 100-4 2 2 0 000 4zm6-9a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V10a2 2 0 012-2h1V6a5 5 0 0110 0v2h1zM8 6a4 4 0 018 0v2H8V6z"/></svg>
            </div>
            <div style="margin-top:10px; font-size: 10px; color: #888;">PASS: 01032007</div>
        </div>

        <div id="show-text"></div>

        <div id="letter-box">
            <div class="letter-content" id="typewriter"></div>
            <button class="heart-btn" onclick="nextPage()">Ti·∫øp T·ª•c ‚ù§Ô∏è</button>
        </div>

    </div>

    <div id="flash-screen">Y√™u D∆∞∆°ng R·∫•t Nhi·ªÅu...</div>

    <audio id="bg-music" src="https://nguyenbacson.io.vn/miss-you-happy-birthday.mp3" loop></audio>

<script>
    // --- C·∫§U H√åNH ---
    const TARGET_DATE = new Date("March 1, 2026 00:00:00").getTime();
    const PASS = "01032007";
    
    // N·ªòI DUNG SHOW (M·ªñI D√íNG L√Ä 1 C·∫¢NH)
    const SHOW_SCRIPT = [
        "Ch√†o C·∫≠u...",
        "C√¥ G√°i Th√°ng 3",
        "Ch√∫c M·ª´ng\nSinh Nh·∫≠t 19 üéÇ",
        "Tu·ªïi M·ªõi\nR·ª±c R·ª° Nh√©! üåπ",
        "Lu√¥n Xinh ƒê·∫πp",
        "V√† ·ªû B√™n T·ªõ ‚ù§Ô∏è",
        "S∆°n Y√™u D∆∞∆°ng!"
    ];

    // N·ªòI DUNG TH∆Ø (Vi·∫øt li·ªÅn m·∫°ch, t√¨nh c·∫£m)
    const LETTER_TEXT = `Ch√∫c m·ª´ng sinh nh·∫≠t tu·ªïi 19, c√¥ g√°i H√† Nam c·ªßa t·ªõ! üå∏

Sang tu·ªïi m·ªõi, ch√∫c c√¥ sinh vi√™n Ph∆∞∆°ng ƒê√¥ng h·ªçc th·∫≠t gi·ªèi, b·ªõt suy nghƒ© linh tinh ƒëi nh√©.

D√π deadline c√≥ d√≠ th√¨ c≈©ng ph·∫£i nh·ªõ ƒÉn u·ªëng ƒë·∫ßy ƒë·ªß (nh·∫•t l√† nem n∆∞·ªõng ƒë·∫•y).

Tu·ªïi 19 n√†y, h√£y ƒë·ªÉ t·ªõ ƒë·ªìng h√†nh c√πng c·∫≠u nh√©! Happy Birthday! ‚ù§Ô∏è`;

    // --- X·ª¨ L√ù CANVAS (N·ªÄN V≈® TR·ª§ + PH√ÅO HOA) ---
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let w, h;
    let particles = [], fireworks = [];

    function resize() {
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    function createFirework() {
        fireworks.push({
            x: Math.random() * w, y: h,
            tx: Math.random() * w, ty: h * 0.2 + Math.random() * h * 0.4, // N·ªï ·ªü ph·∫ßn tr√™n
            color: `hsl(${Math.random()*60 + 330}, 100%, 60%)`, // T√¥ng ƒê·ªè/H·ªìng/V√†ng
            radius: 2
        });
    }

    function createParticles(x, y, color) {
        for(let i=0; i<30; i++) {
            particles.push({
                x: x, y: y,
                vx: (Math.random() - 0.5) * 6, vy: (Math.random() - 0.5) * 6,
                life: 1, color: color
            });
        }
    }

    function loop() {
        // T·∫°o v·ªát m·ªù ƒë·ªè th·∫´m c·ª±c ƒë·∫πp
        ctx.fillStyle = "rgba(10, 0, 5, 0.2)"; 
        ctx.fillRect(0, 0, w, h);

        // V·∫Ω ph√°o hoa bay l√™n
        for(let i=0; i<fireworks.length; i++) {
            let f = fireworks[i];
            f.y += (f.ty - f.y) * 0.05; // Ease out
            f.x += (f.tx - f.x) * 0.05;
            ctx.fillStyle = f.color;
            ctx.beginPath(); ctx.arc(f.x, f.y, f.radius, 0, Math.PI*2); ctx.fill();

            if(Math.abs(f.y - f.ty) < 5) { // ƒê√£ t·ªõi ƒë·ªânh
                createParticles(f.x, f.y, f.color);
                fireworks.splice(i, 1); i--;
            }
        }

        // V·∫Ω h·∫°t n·ªï
        for(let i=0; i<particles.length; i++) {
            let p = particles[i];
            p.x += p.vx; p.y += p.vy; p.vy += 0.05; // Tr·ªçng l·ª±c nh·∫π
            p.life -= 0.02;
            ctx.globalAlpha = p.life;
            ctx.fillStyle = p.color;
            ctx.beginPath(); ctx.arc(p.x, p.y, 2, 0, Math.PI*2); ctx.fill();
            if(p.life <= 0) { particles.splice(i, 1); i--; }
        }
        ctx.globalAlpha = 1;
        requestAnimationFrame(loop);
    }
    loop();

    // --- LOGIC CH√çNH ---
    function updateTimer() {
        const now = new Date().getTime();
        const dis = TARGET_DATE - now;
        if(dis < 0) { unlockSystem(); return; }
        const d = Math.floor(dis / (86400000));
        const ho = Math.floor((dis % 86400000) / 3600000);
        const mi = Math.floor((dis % 3600000) / 60000);
        const se = Math.floor((dis % 60000) / 1000);
        document.getElementById("timer").innerText = 
            `${d<10?"0"+d:d}:${ho<10?"0"+ho:ho}:${mi<10?"0"+mi:mi}:${se<10?"0"+se:se}`;
    }
    let tmr = setInterval(updateTimer, 1000);
    updateTimer();

    function adminUnlock() {
        if(prompt("Pass Admin:") == PASS) unlockSystem(); else alert("Sai m·∫≠t kh·∫©u!");
    }

    function unlockSystem() {
        clearInterval(tmr);
        document.getElementById("bg-music").play().catch(()=>{});
        
        // ·∫®n kh√≥a -> B·∫Øt ƒë·∫ßu show
        const lock = document.getElementById("lock-screen");
        lock.style.opacity = 0;
        setTimeout(() => {
            lock.style.display = 'none';
            runShow(); // B·∫Øt ƒë·∫ßu ch·∫°y ch·ªØ
        }, 800);
    }

    // CH·∫†Y SHOW CH·ªÆ + PH√ÅO HOA
    function runShow() {
        let index = 0;
        const textEl = document.getElementById("show-text");

        function nextSlide() {
            if (index >= SHOW_SCRIPT.length) {
                // H·∫øt show -> Hi·ªán th∆∞
                textEl.style.opacity = 0;
                showLetter();
                return;
            }

            // Hi·ªán ch·ªØ
            textEl.innerHTML = SHOW_SCRIPT[index].replace(/\n/g, "<br>");
            textEl.classList.add("active");
            
            // B·∫Øn ph√°o hoa ƒÉn m·ª´ng
            for(let k=0; k<5; k++) setTimeout(createFirework, k*200);

            // ƒê·ª£i 3s r·ªìi ·∫©n
            setTimeout(() => {
                textEl.classList.remove("active");
                setTimeout(nextSlide, 800); // ƒê·ª£i ·∫©n xong m·ªõi hi·ªán c√°i ti·∫øp theo
            }, 3000);
            
            index++;
        }
        nextSlide();
    }

    // HI·ªÜN TH∆Ø (TYPEWRITER)
    function showLetter() {
        const box = document.getElementById("letter-box");
        box.style.display = "block";
        
        // B·∫Øn ph√°o hoa li√™n t·ª•c l√†m n·ªÅn cho th∆∞
        setInterval(() => { if(Math.random() < 0.3) createFirework(); }, 500);

        setTimeout(() => {
            box.classList.add("visible");
            // G√µ ch·ªØ
            const content = document.getElementById("typewriter");
            let i = 0;
            let typeTmr = setInterval(() => {
                content.innerText = LETTER_TEXT.substring(0, i);
                if(i >= LETTER_TEXT.length) clearInterval(typeTmr);
                i++;
            }, 50);
        }, 100);
    }

    function nextPage() {
        const flash = document.getElementById("flash-screen");
        flash.style.opacity = 1;
        setTimeout(() => {
            window.location.href = "https://nguyenbacson.io.vn/miss-you/i-love-you/";
        }, 1500);
    }
</script>
</body>
</html>
