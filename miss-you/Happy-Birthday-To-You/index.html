<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HPBD_DUONG_19 | RED UNIVERSE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Black+Ops+One&family=Dancing+Script:wght@700&family=Quicksand:wght@600&display=swap');
        
        body { margin: 0; overflow: hidden; background-color: #0a0002; font-family: 'Share Tech Mono', monospace; }
        canvas { display: block; position: absolute; top: 0; left: 0; z-index: 1; }

        /* --- 1. M√ÄN H√åNH ƒê·∫æM NG∆Ø·ª¢C (LOCK SCREEN) --- */
        #countdown-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 10000; 
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: #FF4500;
        }
        .matrix-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0.15; pointer-events: none; z-index: -1;
            background-image: linear-gradient(0deg, transparent 24%, rgba(255, 0, 0, .3) 25%, rgba(255, 0, 0, .3) 26%, transparent 27%, transparent 74%, rgba(255, 0, 0, .3) 75%, rgba(255, 0, 0, .3) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 0, 0, .3) 25%, rgba(255, 0, 0, .3) 26%, transparent 27%, transparent 74%, rgba(255, 0, 0, .3) 75%, rgba(255, 0, 0, .3) 76%, transparent 77%, transparent);
            background-size: 40px 40px;
        }
        #timer { font-size: clamp(35px, 12vw, 80px); font-weight: bold; text-shadow: 0 0 20px #FF4500; margin: 10px 0; color: #FFD700; letter-spacing: 2px; }
        .lock-text { font-size: 14px; color: #ff6b6b; text-transform: uppercase; letter-spacing: 2px; margin-top: 5px;}
        
        #admin-btn { position: fixed; bottom: 30px; right: 30px; width: 40px; height: 40px; cursor: pointer; z-index: 10001; opacity: 0.4; fill: #FF0000; transition: 0.5s; }
        #admin-btn:hover { opacity: 1; transform: rotate(90deg); fill: #fff; }

        /* --- 2. N√öT K√çCH HO·∫†T --- */
        #start-btn-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: none; justify-content: center; align-items: center; z-index: 2000;
        }
        .cyber-btn {
            background: rgba(50, 0, 0, 0.8); color: #FFD700; border: 2px solid #FF4500;
            padding: 15px 30px; font-size: 18px; cursor: pointer; font-family: 'Black Ops One';
            box-shadow: 0 0 20px #FF4500; border-radius: 50px; animation: pulse 1.5s infinite;
            text-transform: uppercase; letter-spacing: 2px;
        }

        /* --- 3. TERMINAL --- */
        #virus-terminal { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0, 0, 0, 0.95); color: #FF0000; 
            padding: 20px; box-sizing: border-box; font-size: 12px; 
            overflow: hidden; display: none; z-index: 2001;
            text-shadow: 0 0 5px #F00; line-height: 1.4;
        }

        /* --- 4. MESSAGE LAYER (TH∆Ø) --- */
        #msg-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); display: none; z-index: 3000;
            flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; transition: opacity 1s;
        }
        #msg-layer.visible { opacity: 1; }
        #msg-box {
            width: 85%; max-width: 500px; max-height: 60vh; overflow-y: auto;
            background: rgba(30, 0, 10, 0.8); border: 1px solid #FF1493;
            padding: 20px; border-radius: 20px; box-shadow: 0 0 30px rgba(255, 20, 147, 0.3);
            color: #ffc2d1; font-family: 'Quicksand'; font-size: clamp(15px, 4vw, 18px); line-height: 1.6;
            white-space: pre-wrap;
        }
        #next-btn {
            margin-top: 20px; padding: 10px 30px; border: 1px solid #FFD700;
            background: transparent; color: #FFD700; border-radius: 30px;
            font-family: 'Share Tech Mono'; font-weight: bold; cursor: pointer; display: none;
        }

        /* --- 5. BIG 3D CUBE (V·∫¨T TH·ªÇ 3D TO) --- */
        #finale-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: none; justify-content: center; align-items: center; z-index: 2500;
            perspective: 1000px; pointer-events: none; /* ƒê·ªÉ ko ch·∫∑n click */
        }
        
        #big-cube {
            width: 150px; height: 150px; position: relative;
            transform-style: preserve-3d; animation: spinCube 8s infinite linear;
        }
        .cube-face {
            position: absolute; width: 150px; height: 150px;
            background: rgba(255, 0, 50, 0.15); border: 2px solid #FF0055;
            color: #FFD700; font-size: 40px; font-family: 'Black Ops One';
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 0 40px rgba(255, 0, 85, 0.5);
            text-align: center;
        }
        .cf-front  { transform: translateZ(75px); }
        .cf-back   { transform: rotateY(180deg) translateZ(75px); }
        .cf-right  { transform: rotateY(90deg) translateZ(75px); }
        .cf-left   { transform: rotateY(-90deg) translateZ(75px); }
        .cf-top    { transform: rotateX(90deg) translateZ(75px); }
        .cf-bottom { transform: rotateX(-90deg) translateZ(75px); }

        /* --- 6. TRANSITION --- */
        #white-flash {
            position: fixed; top:0; left:0; width:100%; height:100%; background: #FFF;
            z-index: 9999; opacity: 0; pointer-events: none; transition: opacity 3s;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
        }
        .loading-heart { font-size: 50px; animation: beat 0.8s infinite; }
        .loading-text { margin-top: 10px; color: #ff0055; font-family: 'Dancing Script'; font-size: 24px; }

        @keyframes spinCube { from { transform: rotateX(0) rotateY(0); } to { transform: rotateX(360deg) rotateY(360deg); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes beat { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body>
    <canvas id="c"></canvas>

    <div id="countdown-layer">
        <div class="matrix-bg"></div>
        <div style="font-size: 20px; letter-spacing: 5px; color: #fff;">TR∆Ø∆†NG TH·ªä D∆Ø∆†NG</div>
        <div id="timer">00:00:00</div>
        <div class="lock-text">[ SYSTEM LOCKED ]</div>
        <div class="lock-text" style="color: #555; font-size: 10px;">TARGET: 01/03/2026</div>
        <div id="admin-btn" onclick="adminUnlock()">
            <svg viewBox="0 0 24 24"><path d="M12 15a3 3 0 100-6 3 3 0 000 6zm0-8a5 5 0 110 10 5 5 0 010-10zm0-2a7 7 0 100 14 7 7 0 000-14z"/></svg>
        </div>
    </div>

    <div id="start-btn-container">
        <button class="cyber-btn" onclick="startShow()">K√çCH HO·∫†T</button>
    </div>

    <div id="virus-terminal"></div>

    <div id="msg-layer">
        <div style="color: #FFD700; font-size: 30px; font-family: 'Dancing Script'; margin-bottom: 15px;">üíå G·ª≠i D∆∞∆°ng</div>
        <div id="msg-box"></div>
        <button id="next-btn" onclick="showFinale()">TI·∫æP T·ª§C >></button>
    </div>

    <div id="finale-layer">
        <div id="big-cube">
            <div class="cube-face cf-front">19</div>
            <div class="cube-face cf-back">‚ù§Ô∏è</div>
            <div class="cube-face cf-right">D∆Ø∆†NG</div>
            <div class="cube-face cf-left">XINH</div>
            <div class="cube-face cf-top">HAPPY</div>
            <div class="cube-face cf-bottom">BDAY</div>
        </div>
    </div>

    <div id="white-flash">
        <div class="loading-heart">‚ù§Ô∏è</div>
        <div class="loading-text">Ch·ªù t·ªõ m·ªôt ch√∫t...</div>
    </div>

    <audio id="audio" src="https://nguyenbacson.io.vn/miss-you-happy-birthday.mp3" loop></audio>

<script>
    // --- SETTINGS ---
    const TARGET_DATE = new Date("March 1, 2026 00:00:00").getTime();
    const PASS = "01032007";
    const LETTER = `Ch√∫c m·ª´ng sinh nh·∫≠t tu·ªïi 19, c√¥ g√°i H√† Nam xinh ƒë·∫πp! üéÇ

Ch√∫c c√¥ sinh vi√™n ƒê·∫°i h·ªçc Ph∆∞∆°ng ƒê√¥ng sang tu·ªïi m·ªõi h·ªçc t·∫≠p th·∫≠t t·ªët, lu√¥n vui v·∫ª v√† b·ªõt suy nghƒ© linh tinh nh√©.

D√π c√≥ b·∫≠n deadline th√¨ c≈©ng nh·ªõ ƒÉn u·ªëng ƒë·∫ßy ƒë·ªß (ƒë·∫∑c bi·ªát l√† ƒëi ƒÉn nem n∆∞·ªõng cho ƒë·ª° th√®m nha). üç¢

Mong r·∫±ng m·ªçi ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t s·∫Ω ƒë·∫øn v·ªõi c·∫≠u. Happy Birthday, my special girl! ‚ù§Ô∏è

-- Nguy·ªÖn B·∫Øc S∆°n --`;

    const TERMINAL_LOGS = [
        "> CONNECTING_TO_SATELLITE...", "> TARGET_FOUND: 'TRUONG_THI_DUONG'", 
        "> LOCATION: HA_NAM", "> STATUS: CUTE_LEVEL_MAX", 
        "> DECRYPTING_GIFT...", "> 3...", "> 2...", "> 1...", "> LAUNCH!"
    ];

    // --- CANVAS SETUP ---
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    let w, h;
    let particles = [], fireworks = [], stars = [];
    let state = "LOCK"; // LOCK -> IDLE -> VIRUS -> MSG -> FINALE

    function resize() {
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
        stars = [];
        for(let i=0; i<100; i++) stars.push({
            x: Math.random()*w, y: Math.random()*h, 
            s: Math.random()*1.5, a: Math.random()
        });
    }
    window.addEventListener('resize', resize);
    resize();

    // --- COUNTDOWN LOGIC ---
    function updateTimer() {
        const now = new Date().getTime();
        const dis = TARGET_DATE - now;
        if(dis < 0) { unlock(); return; }
        const d = Math.floor(dis / (86400000));
        const ho = Math.floor((dis % 86400000) / 3600000);
        const mi = Math.floor((dis % 3600000) / 60000);
        const se = Math.floor((dis % 60000) / 1000);
        document.getElementById("timer").innerText = 
            `${d<10?"0"+d:d}:${ho<10?"0"+ho:ho}:${mi<10?"0"+mi:mi}:${se<10?"0"+se:se}`;
    }
    let tmr = setInterval(updateTimer, 1000);
    updateTimer();

    function unlock() {
        clearInterval(tmr);
        document.getElementById("countdown-layer").style.display = "none";
        document.getElementById("start-btn-container").style.display = "flex";
        state = "IDLE";
    }

    window.adminUnlock = function() {
        if(prompt("PASS ADMIN:") == PASS) unlock(); else alert("SAI M·∫¨T KH·∫®U!");
    }

    // --- MAIN FLOW ---
    window.startShow = function() {
        document.getElementById("start-btn-container").style.display = "none";
        document.getElementById("audio").play().catch(()=>{});
        runVirus();
    }

    function runVirus() {
        state = "VIRUS";
        const term = document.getElementById("virus-terminal");
        term.style.display = "block";
        let line = 0, char = 0, txt = "";
        
        function type() {
            if(line >= TERMINAL_LOGS.length) {
                setTimeout(() => { term.style.display = "none"; showMessage(); }, 800);
                return;
            }
            const str = TERMINAL_LOGS[line];
            term.innerHTML = txt + str.substring(0, char) + "_";
            if(char < str.length) { char++; setTimeout(type, 20); }
            else { txt += str + "<br>"; line++; char=0; setTimeout(type, 100); }
        }
        type();
    }

    function showMessage() {
        state = "MSG";
        const layer = document.getElementById("msg-layer");
        layer.style.display = "flex";
        setTimeout(() => layer.classList.add("visible"), 50);
        
        const box = document.getElementById("msg-box");
        let i = 0;
        let t = setInterval(() => {
            box.innerText = LETTER.substring(0, i) + "|";
            box.scrollTop = box.scrollHeight;
            if(i >= LETTER.length) {
                clearInterval(t);
                box.innerText = LETTER;
                document.getElementById("next-btn").style.display = "block";
            }
            i++;
        }, 30);
    }

    window.showFinale = function() {
        state = "FINALE";
        document.getElementById("msg-layer").style.display = "none"; // ·∫®n th∆∞
        document.getElementById("finale-layer").style.display = "flex"; // Hi·ªán kh·ªëi 3D to
        
        // B·∫Øn ph√°o hoa li√™n t·ª•c
        let fwInterval = setInterval(() => {
            if(fireworks.length < 10) {
                fireworks.push({
                    x: Math.random()*w, y: h, 
                    vx: (Math.random()-0.5)*4, vy: -(Math.random()*5 + 10),
                    color: `hsl(${Math.random()*60}, 100%, 60%)` // ƒê·ªè/V√†ng/Cam
                });
            }
        }, 300);

        // Sau 6 gi√¢y th√¨ chuy·ªÉn trang
        setTimeout(() => {
            clearInterval(fwInterval);
            doTransition();
        }, 6000);
    }

    function doTransition() {
        const white = document.getElementById("white-flash");
        white.style.opacity = 1;
        setTimeout(() => {
            window.location.href = "https://nguyenbacson.io.vn/miss-you/i-love-you/";
        }, 3000);
    }

    // --- ANIMATION LOOP ---
    function loop() {
        ctx.fillStyle = "rgba(10, 0, 2, 0.2)"; 
        ctx.fillRect(0,0,w,h);

        // V·∫Ω sao n·ªÅn
        stars.forEach(s => {
            ctx.fillStyle = `rgba(255, 255, 255, ${s.a})`;
            ctx.beginPath(); ctx.arc(s.x, s.y, s.s, 0, Math.PI*2); ctx.fill();
            if(Math.random()<0.01) s.a = Math.random();
        });

        // V·∫Ω ph√°o hoa (cho giai ƒëo·∫°n FINALE)
        for(let i=fireworks.length-1; i>=0; i--) {
            let f = fireworks[i];
            f.x += f.vx; f.y += f.vy; f.vy += 0.2; // tr·ªçng l·ª±c
            ctx.fillStyle = f.color; ctx.beginPath(); ctx.arc(f.x, f.y, 3, 0, Math.PI*2); ctx.fill();
            
            // N·ªï
            if(f.vy >= 0 || Math.random() < 0.05) {
                for(let j=0; j<10; j++) particles.push({
                    x: f.x, y: f.y, 
                    vx: (Math.random()-0.5)*6, vy: (Math.random()-0.5)*6, 
                    life: 1, color: f.color
                });
                if(f.vy >= 0) fireworks.splice(i, 1);
            }
        }

        // V·∫Ω h·∫°t n·ªï
        for(let i=particles.length-1; i>=0; i--) {
            let p = particles[i];
            p.x += p.vx; p.y += p.vy; p.life -= 0.02;
            if(p.life <= 0) particles.splice(i, 1);
            else {
                ctx.globalAlpha = p.life; ctx.fillStyle = p.color;
                ctx.beginPath(); ctx.arc(p.x, p.y, 2, 0, Math.PI*2); ctx.fill();
                ctx.globalAlpha = 1;
            }
        }

        requestAnimationFrame(loop);
    }
    loop();

</script>
</body>
</html>
