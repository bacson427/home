<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>M·ªùi Sinh Nh·∫≠t B·∫Øc S∆°n üê∑</title>
    
    <meta property="og:title" content="M·ªùi d·ª± ti·ªác Sinh Nh·∫≠t B·∫Øc S∆°n 19 Tu·ªïi! üéÇ">
    <meta property="og:description" content="‚è∞ Th·ªùi gian: 19h30 ng√†y 04/02/2026. ƒê·ªãa ƒëi·ªÉm: Dookki Times City.">
    <meta property="og:image" content="https://nguyenbacson.io.vn/loichucsinhnhat-12(1).jpg">
    <meta property="og:type" content="website">

    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
         :root { --primary: #ff4757; --glass: rgba(20, 20, 30, 0.85); --border: rgba(255, 255, 255, 0.15); --neon: #feca57; --rule-bg: rgba(46, 204, 113, 0.15); --rule-border: #2ecc71; }

        body { 
            margin: 0; padding: 0; 
            font-family: 'Quicksand', sans-serif; 
            /* N·ªÅn Galaxy t·ªëi ∆∞u */
            background: linear-gradient(-45deg, #0f0518, #1a1a2e, #16213e, #240b36);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex; justify-content: center; align-items: center; 
            min-height: 100vh; color: white; overflow: hidden; position: relative; 
            touch-action: manipulation; /* T·ªëi ∆∞u c·∫£m ·ª©ng */
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url("https://www.transparenttextures.com/patterns/confetti.png"); background-size: 400px; opacity: 0.2; pointer-events: none; animation: bgScroll 60s linear infinite; z-index: 1; }
        @keyframes bgScroll { from { background-position: 0 0; } to { background-position: 0 -400px; } }
        
        /* --- B√ìNG BAY 3D (CSS THU·∫¶N - KH√îNG LAG) --- */
        .balloon-3d {
            position: fixed;
            bottom: -120px;
            width: 60px;
            height: 75px;
            border-radius: 50% 50% 50% 50% / 40% 40% 60% 60%;
            z-index: 2;
            box-shadow: inset -5px -5px 12px rgba(0,0,0,0.3);
            animation: floatUp linear forwards;
            will-change: transform, opacity; /* K√≠ch ho·∫°t GPU ƒë·ªÉ m∆∞·ª£t h∆°n */
            pointer-events: none;
        }
        
        /* D√¢y b√≥ng */
        .balloon-3d::before {
            content: ''; position: absolute; bottom: -12px; left: 50%; transform: translateX(-50%);
            width: 2px; height: 40px; background: rgba(255,255,255,0.4);
        }
        /* ƒêi·ªÉm s√°ng b√≥ng lo√°ng t·∫°o hi·ªáu ·ª©ng 3D */
        .balloon-3d::after {
            content: ''; position: absolute; top: 15%; left: 20%;
            width: 12px; height: 24px; border-radius: 50%;
            background: rgba(255,255,255,0.8); transform: rotate(45deg);
        }

        /* C√°c m√†u b√≥ng */
        .b-red { background: radial-gradient(circle at 50% 50%, #ff6b81, #c0392b); }
        .b-blue { background: radial-gradient(circle at 50% 50%, #74b9ff, #0984e3); }
        .b-gold { background: radial-gradient(circle at 50% 50%, #ffeaa7, #fdcb6e); }
        .b-purple { background: radial-gradient(circle at 50% 50%, #a29bfe, #6c5ce7); }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(-130vh) rotate(10deg); opacity: 0; }
        }

        /* --- C√ÅC HI·ªÜU ·ª®NG KH√ÅC --- */
        .pig-fly { position: fixed; z-index: 20; font-size: 20px; pointer-events: none; animation: flightPath 0.8s ease-in-out forwards; }
        @keyframes flightPath { 0% { transform: translate(0, 0) scale(0.5); opacity: 0.5; } 50% { transform: translate(var(--mid-x), -50px) scale(1.2); opacity: 1; } 100% { transform: translate(var(--dest-x), 0) scale(1); opacity: 0; } }
        
        .shaking { animation: shake-hard 0.5s infinite; border-color: red !important; color: red !important; }
        @keyframes shake-hard { 0% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -2px); } 100% { transform: translate(1px, -2px); } }
        
        .final-message { display: none; font-size: 2.5rem; color: #feca57; font-weight: bold; text-shadow: 0 0 20px #ff4757; animation: zoomIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; margin: 20px 0; }
        @keyframes zoomIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Container */
        .container { background: var(--glass); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); border: 1px solid var(--border); border-radius: 24px; padding: 20px; width: 90%; max-width: 450px; text-align: center; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5); position: relative; z-index: 10; margin: 40px 0; animation: popUp 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55); transition: transform 0.2s; }
        @keyframes popUp { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        h1 { color: var(--neon); margin: 5px 0; font-size: 1.8rem; text-transform: uppercase; text-shadow: 0 0 10px rgba(254, 202, 87, 0.5); }
        .cake-icon { font-size: 3rem; display: block; margin-bottom: 5px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        p.subtitle { color: #dcdde1; font-size: 0.9rem; margin-bottom: 10px; font-style: italic; }
        
        .explicit-time { background: rgba(254, 202, 87, 0.15); color: var(--neon); font-weight: bold; font-size: 1.1rem; padding: 12px; border-radius: 12px; border: 1px solid var(--neon); margin-bottom: 20px; text-shadow: 0 0 5px rgba(0,0,0,0.5); }

        .rules-box { background: var(--rule-bg); border: 1px dashed var(--rule-border); border-radius: 12px; padding: 15px; margin-bottom: 20px; text-align: left; font-size: 0.9rem; color: #ecf0f1; }
        .rules-box h3 { margin: 0 0 10px 0; color: #2ecc71; text-align: center; text-transform: uppercase; font-size: 1rem; }
        .rules-box ul { margin: 0; padding-left: 20px; list-style-type: none; }
        .rules-box li { margin-bottom: 8px; position: relative; }
        .rules-box li::before { content: 'üëâ'; position: absolute; left: -25px; }

        .countdown-container { display: flex; justify-content: space-between; margin-bottom: 20px; gap: 8px; position: relative; }
        .time-box { background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 71, 87, 0.5); border-radius: 8px; padding: 8px 5px; flex: 1; display: flex; flex-direction: column; align-items: center; transition: all 0.5s; }
        .time-val { font-size: 1.3rem; font-weight: bold; color: white; line-height: 1; transition: color 0.5s; }
        .time-label { font-size: 0.6rem; text-transform: uppercase; color: #bdc3c7; margin-top: 5px; }

        .map-btn { display: flex; align-items: center; justify-content: center; gap: 10px; background: linear-gradient(90deg, #e17055, #d63031); color: white; text-decoration: none; padding: 12px; border-radius: 12px; margin-bottom: 20px; font-weight: bold; transition: 0.3s; box-shadow: 0 4px 15px rgba(214, 48, 49, 0.3); }
        .map-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(214, 48, 49, 0.5); }
        
        .fixed-copyright { position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(5px); padding: 10px; text-align: center; font-size: 0.7rem; color: #bdc3c7; border-top: 1px solid rgba(255,255,255,0.1); z-index: 100; }
        .fixed-copyright span { color: #feca57; font-weight: bold; }
        
        /* Hint nh·ªè ƒë·ªÉ ng∆∞·ªùi d√πng bi·∫øt t√≠nh nƒÉng ·∫©n */
        .tap-hint { position: fixed; top: 10px; right: 10px; font-size: 0.7rem; color: rgba(255,255,255,0.3); font-style: italic; z-index: 5; }
   </style>     
</head>
<body>
    
    <audio id="birthday-audio" loop>
        <source src="https://nguyenbacson.io.vn/Happy-Birthday-To-You-Happy-Birthday-Happy-Birthday-Happy-Birthday-To-You..._-YouTube.mp3" type="audio/mpeg">
    </audio>

    <div class="tap-hint">(Double tap to surprise)</div>

    <div class="container" id="main-card">
        <div class="cake-icon">üéÇ</div>
        <h1>Sinh Nh·∫≠t B·∫Øc S∆°n</h1>
        <p class="subtitle">19 Tu·ªïi - Dookki Times City th·∫≥ng ti·∫øn!</p>

        <div class="explicit-time">‚è∞ 19h30 ng√†y 04/02/2026</div>

        <div class="countdown-container" id="countdown-box">
            <div class="time-box" id="box-days"><span class="time-val" id="days">00</span><span class="time-label">Ng√†y</span></div>
            <div class="time-box" id="box-hours"><span class="time-val" id="hours">00</span><span class="time-label">Gi·ªù</span></div>
            <div class="time-box" id="box-minutes"><span class="time-val" id="minutes">00</span><span class="time-label">Ph√∫t</span></div>
            <div class="time-box" id="box-seconds"><span class="time-val" id="seconds">00</span><span class="time-label">Gi√¢y</span></div>
        </div>
        
        <div class="final-message" id="final-msg">
            üéâ HAPPY BIRTHDAY! üéâ<br>
            <span style="font-size: 1rem; color: white; font-weight: normal;">(Qu·∫©y l√™n n√†o!)</span>
        </div>

        <a href="Https://maps.app.goo.gl/TrJb9AgCEhkkEa1JA" target="_blank" class="map-btn">
            <span>üó∫Ô∏è</span> <span>Dookki Times City - T·∫ßng B1</span> <span>‚Üó</span>
        </a>

        <div class="rules-box">
            <h3>üìú Quy ƒê·ªãnh "Nh·∫≠p Ti·ªác"</h3>
            <ul>
                <li><b>ƒê√∫ng gi·ªù (19:30):</b> ƒê·ª´ng ƒë·ªÉ c·∫£ h·ªôi ch·ªù nha!</li>
                <li><b>Th·ªùi gian chi·∫øn:</b> Qu√°n gi·ªõi h·∫°n ƒÉn trong 90 ph√∫t.</li>
                <li><b>V√©t s·∫°ch n·ªìi:</b> L·∫•y v·ª´a ƒë·ªß ƒÉn, tr√°nh ƒë·ªÉ th·ª´a (Qu√°n ph·∫°t ƒë√≥).</li>
                <li><b>Dresscode:</b> G·ªçn g√†ng, ƒë·∫πp trai xinh g√°i l√† ƒë∆∞·ª£c!</li>
            </ul>
        </div>
    </div>

    <div class="fixed-copyright">ü§ñ Website ƒë∆∞·ª£c t·∫°o b·ªüi AI do <span>Nguy·ªÖn B·∫Øc S∆°n</span> gi√°m s√°t th·ª±c hi·ªán</div>

    <script>
        // --- C·∫§U H√åNH ---
        const audio = document.getElementById('birthday-audio');
        let isExploded = false;
        
        // --- 1. X·ª¨ L√ù DOUBLE TAP (CH·∫†M 2 L·∫¶N) ---
        // S·ª≠ d·ª•ng dblclick ho·∫°t ƒë·ªông t·ªët tr√™n c·∫£ Mobile (n·∫øu user-scalable=no) v√† PC
        document.body.addEventListener('dblclick', (e) => {
            // Hi·ªáu ·ª©ng rung nh·∫π khi ch·∫°m
            const card = document.getElementById('main-card');
            card.style.transform = "scale(1.05)";
            setTimeout(() => card.style.transform = "scale(1)", 200);

            // B·∫≠t nh·∫°c (C·∫ßn t∆∞∆°ng t√°c ng∆∞·ªùi d√πng m·ªõi b·∫≠t ƒë∆∞·ª£c)
            audio.play().catch(err => console.log("Ch·∫∑n autoplay: " + err));

            // K√≠ch ho·∫°t ch·∫ø ƒë·ªô sinh nh·∫≠t ngay l·∫≠p t·ª©c
            if (!isExploded) {
                isExploded = true;
                triggerExplosion();
            } else {
                // N·∫øu ƒë√£ n·ªï r·ªìi th√¨ ch·∫°m 2 l·∫ßn ƒë·ªÉ b·∫Øn th√™m ph√°o hoa
                createConfettiBurst(e.clientX, e.clientY);
            }
        });

        // --- 2. LOGIC ƒê·∫æM NG∆Ø·ª¢C ---
        const countdown = () => {
            if(isExploded) return; // N·∫øu ƒë√£ n·ªï ti·ªác th√¨ d·ª´ng ƒë·∫øm

            const countDate = new Date("Feb 4, 2026 19:30:00").getTime();
            const now = new Date().getTime();
            const gap = countDate - now;

            if (gap < 0) {
                isExploded = true; 
                triggerExplosion();
                audio.play().catch(() => {}); // C·ªë g·∫Øng b·∫≠t nh·∫°c n·∫øu c√≥ th·ªÉ
                return;
            }

            // Rung l·∫Øc khi c√≤n d∆∞·ªõi 10 gi√¢y
            if (gap < 10000 && gap > 0) { 
                document.querySelectorAll('.time-box').forEach(box => box.classList.add('shaking')); 
            }

            const second = 1000; const minute = second * 60; const hour = minute * 60; const day = hour * 24;
            const d = Math.floor(gap / day); const h = Math.floor((gap % day) / hour);
            const m = Math.floor((gap % hour) / minute); const s = Math.floor((gap % minute) / second);

            document.getElementById('days').innerText = d < 10 ? '0' + d : d;
            document.getElementById('hours').innerText = h < 10 ? '0' + h : h;
            document.getElementById('minutes').innerText = m < 10 ? '0' + m : m;
            document.getElementById('seconds').innerText = s < 10 ? '0' + s : s;

            // Logic l·ª£n bay chuy·ªÉn s·ªë (Gi·ªØ nguy√™n v√¨ ƒë·∫πp)
            flyPig('box-seconds', 'box-minutes', 1);
            if (s === 0) flyPig('box-minutes', 'box-hours', 1.5);
            if (m === 0 && s === 0) flyPig('box-hours', 'box-days', 2);
        };

        function flyPig(fromId, toId, sizeScale) {
            const fromBox = document.getElementById(fromId); const toBox = document.getElementById(toId);
            if(!fromBox || !toBox) return;
            const fromRect = fromBox.getBoundingClientRect(); const toRect = toBox.getBoundingClientRect();
            
            // T√≠nh to√°n t·ªça ƒë·ªô t∆∞∆°ng ƒë·ªëi
            const startX = fromRect.left + fromRect.width / 2; 
            const startY = fromRect.top + fromRect.height / 2;
            const destX = (toRect.left + toRect.width / 2) - startX; 
            const midX = destX / 2;

            const pig = document.createElement('div');
            pig.classList.add('pig-fly'); pig.innerText = 'üê∑';
            pig.style.left = `${startX}px`; pig.style.top = `${startY}px`;
            pig.style.fontSize = `${20 * sizeScale}px`; 
            pig.style.setProperty('--dest-x', `${destX}px`); pig.style.setProperty('--mid-x', `${midX}px`);
            document.body.appendChild(pig);
            setTimeout(() => { pig.remove(); }, 800);
        }

        // --- 3. X·ª¨ L√ù KHI "N·ªî TI·ªÜC" ---
        function triggerExplosion() {
            document.getElementById('countdown-box').style.display = 'none';
            document.getElementById('final-msg').style.display = 'block';
            
            // B·∫Øn ph√°o b√¥ng li√™n t·ª•c
            let burstInterval = setInterval(() => {
                createConfettiBurst(window.innerWidth / 2, window.innerHeight / 2);
            }, 300);

            // D·ª´ng b·∫Øn sau 5 gi√¢y ƒë·ªÉ ƒë·ª° lag
            setTimeout(() => clearInterval(burstInterval), 5000);
        }

        function createConfettiBurst(x, y) {
            for (let i = 0; i < 30; i++) {
                const pig = document.createElement('div');
                pig.innerText = Math.random() > 0.5 ? 'üê∑' : 'üéâ'; 
                pig.style.position = 'fixed'; 
                pig.style.left = x + 'px'; 
                pig.style.top = y + 'px';
                pig.style.fontSize = Math.random() * 20 + 10 + 'px'; 
                pig.style.transition = 'all 1s cubic-bezier(0.25, 1, 0.5, 1)'; 
                pig.style.zIndex = 100;
                document.body.appendChild(pig);
                
                // Random h∆∞·ªõng bay
                setTimeout(() => {
                    const randX = (Math.random() - 0.5) * 400; 
                    const randY = (Math.random() - 0.5) * 400;
                    pig.style.transform = `translate(${randX}px, ${randY}px) rotate(${Math.random()*720}deg)`; 
                    pig.style.opacity = 0;
                }, 10);
                
                setTimeout(() => pig.remove(), 1000);
            }
        }
        
        setInterval(countdown, 1000);

        // --- 4. T√çNH NƒÇNG M·ªöI: B√ìNG BAY 3D CSS (OPTIMIZED) ---
        function create3DBalloon() {
            // Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng b√≥ng tr√™n m√†n h√¨nh ƒë·ªÉ kh√¥ng lag (Max 15 b√≥ng)
            if (document.querySelectorAll('.balloon-3d').length > 15) return;

            const colors = ['b-red', 'b-blue', 'b-gold', 'b-purple'];
            const balloon = document.createElement('div');
            
            // Add class c∆° b·∫£n v√† m√†u ng·∫´u nhi√™n
            balloon.classList.add('balloon-3d');
            balloon.classList.add(colors[Math.floor(Math.random() * colors.length)]);
            
            // Random v·ªã tr√≠ xu·∫•t hi·ªán (tr√°i -> ph·∫£i m√†n h√¨nh)
            balloon.style.left = Math.random() * 90 + 5 + 'vw'; // Tr√°nh s√°t m√©p qu√°
            
            // Random t·ªëc ƒë·ªô bay (6s ƒë·∫øn 12s)
            const duration = Math.random() * 6 + 6;
            balloon.style.animationDuration = duration + 's';
            
            // Random k√≠ch th∆∞·ªõc (0.8x ƒë·∫øn 1.2x)
            const scale = Math.random() * 0.4 + 0.8;
            balloon.style.transform = `scale(${scale})`;

            document.body.appendChild(balloon);

            // T·ª± ƒë·ªông x√≥a b√≥ng khi bay xong
            setTimeout(() => {
                if(balloon.parentNode) balloon.parentNode.removeChild(balloon);
            }, duration * 1000);
        }

        // T·∫°o b√≥ng bay th∆∞a h∆°n (1.2s m·ªôt qu·∫£) ƒë·ªÉ nh·∫π m√°y
        setInterval(create3DBalloon, 1200);

    </script>
</body>
</html>
