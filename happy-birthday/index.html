<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·∫Øc S∆°n Party 04/02</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.5/xlsx.full.min.js"></script>
    <style>
        :root { --primary: #ff4757; --glass: rgba(255, 255, 255, 0.15); }
        body {
            margin: 0; padding: 0; font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            display: flex; justify-content: center; align-items: center; min-height: 100vh; color: white;
        }
        .container {
            background: var(--glass); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 20px;
            padding: 30px; width: 90%; max-width: 400px; text-align: center;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
            position: relative;
        }
        h1 { color: #feca57; margin-top: 0; }
        .info { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; margin-bottom: 20px; text-align: left; font-size: 0.95rem;}
        .info a { color: #feca57; text-decoration: none; font-weight: bold; transition: color 0.3s; }
        .info a:hover { color: #ff6b81; }
        
        /* D√≤ng th√¥ng b√°o Deadline m·ªõi th√™m */
        .deadline-box {
            background: rgba(255, 71, 87, 0.2);
            border: 1px solid #ff4757;
            color: #ff6b81;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 71, 87, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 71, 87, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 71, 87, 0); }
        }

        input, select {
            width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; border: none; outline: none;
            background: rgba(255, 255, 255, 0.9); font-family: 'Quicksand', sans-serif;
        }
        .btn-guest {
            width: 100%; padding: 15px; margin-top: 15px; border-radius: 8px; border: none;
            background: var(--primary); color: white; font-weight: bold; cursor: pointer; font-size: 16px;
            transition: transform 0.3s, background 0.3s;
        }
        .btn-guest:hover { background: #ff6b81; transform: scale(1.02); }
        .btn-admin {
            margin-top: 20px; background: none; border: 1px solid rgba(255,255,255,0.3); 
            color: rgba(255,255,255,0.6); padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 0.8rem;
            transition: background 0.3s, color 0.3s;
        }
        .btn-admin:hover { background: rgba(255,255,255,0.1); color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sinh Nh·∫≠t B·∫Øc S∆°n üéÇ</h1>
        <p>H·ªçc xong qua lu√¥n nh√© anh em!</p>

        <div class="info">
            <div>üìÖ 04/02/2026 (Th·ª© T∆∞)</div>
            <div>‚è∞ 19:30 (Sau gi·ªù h·ªçc)</div>
            <div>üìç <a href="https://maps.app.goo.gl/5aB2zGjK4mN4tQhG9" target="_blank">L·∫©u Wang - 134 Tr·∫ßn ƒê·∫°i Nghƒ©a</a></div>
        </div>

        <div class="deadline-box">
            ‚ö†Ô∏è H·∫°n ch·ªët: 01/02/2026 ƒë·ªÉ S∆°n ƒë·∫∑t b√†n!
        </div>

        <div>
            <input type="text" id="ten" placeholder="T√™n c·∫≠u l√† g√¨?" required>
            <input type="tel" id="sdt" placeholder="S·ªë ƒëi·ªán tho·∫°i" required>
            <select id="trang_thai">
                <option value="C√ì">‚úÖ Chi·∫øn lu√¥n (C√ì)</option>
                <option value="KH√îNG">‚ùå B·∫≠n m·∫•t r·ªìi (KH√îNG)</option>
            </select>
            <button class="btn-guest" onclick="luuThongTin()">G·ª¨I ƒêƒÇNG K√ù üöÄ</button>
        </div>

        <button class="btn-admin" onclick="xuatExcel()">üîí Admin: T·∫£i danh s√°ch</button>
    </div>

    <script>
        let danhSachDangKy = [];

        function luuThongTin() {
            var ten = document.getElementById("ten").value;
            var sdt = document.getElementById("sdt").value;
            var trangThai = document.getElementById("trang_thai").value;
            var thoiGian = new Date().toLocaleString('vi-VN');

            // Logic ki·ªÉm tra h·∫°n ch·ªët (T√πy ch·ªçn: N·∫øu mu·ªën ch·∫∑n lu√¥n sau ng√†y 1/2 th√¨ m·ªü comment d√≤ng d∆∞·ªõi)
            // var currentDay = new Date();
            // var deadline = new Date("2026-02-01");
            // if(currentDay > deadline) { alert("H·∫øt h·∫°n ƒëƒÉng k√Ω r·ªìi nha!"); return; }

            if(ten == "" || sdt == "") {
                alert("Vui l√≤ng ƒëi·ªÅn ƒë·ªß t√™n v√† s·ªë ƒëi·ªán tho·∫°i!");
                return;
            }
            danhSachDangKy.push({ "Th·ªùi Gian": thoiGian, "T√™n": ten, "SƒêT": sdt, "Tr·∫°ng Th√°i": trangThai });
            alert("‚úÖ ƒê√£ nh·∫≠n ƒë∆°n c·ªßa " + ten + "! H·∫πn g·∫∑p c·∫≠u h√¥m ƒë√≥ nh√©.");
            document.getElementById("ten").value = "";
            document.getElementById("sdt").value = "";
            document.getElementById("trang_thai").value = "C√ì";
        }

        function xuatExcel() {
            if (danhSachDangKy.length === 0) { alert("Ch∆∞a c√≥ ai ƒëƒÉng k√Ω c·∫£!"); return; }
            var pass = prompt("Nh·∫≠p m·∫≠t kh·∫©u qu·∫£n tr·ªã vi√™n:");
            if (pass === "04022007") {
                var ws = XLSX.utils.json_to_sheet(danhSachDangKy);
                var wb = XLSX.utils.book_new();
                XLSX.utils.book_append_sheet(wb, ws, "Danh Sach");
                XLSX.writeFile(wb, "DanhSach_SN_BacSon_" + new Date().getTime() + ".xlsx");
            } else if (pass !== null) { alert("‚õî SAI M·∫¨T KH·∫®U!"); }
        }
    </script>
</body>
</html>
