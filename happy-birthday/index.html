<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* CSS để báo hiệu: Sai là viền đỏ, Đúng là viền xanh */
        input {
            padding: 10px;
            font-size: 16px;
            outline: none;
            border: 2px solid #ccc;
            border-radius: 5px;
            width: 250px;
            transition: 0.3s;
        }

        /* Class khi sai (chưa đủ 10 số) */
        .invalid {
            border-color: red;
            background-color: #ffe6e6; /* Màu nền đỏ nhạt */
        }

        /* Class khi đúng (đủ 10 số) */
        .valid {
            border-color: green;
            background-color: #e6fffa; /* Màu nền xanh nhạt */
        }

        .error-msg {
            color: red;
            font-size: 13px;
            margin-top: 5px;
            display: none; /* Mặc định ẩn */
        }
    </style>
</head>
<body>

    <label>Nhập SĐT (Chỉ nhận số, tối đa 10):</label><br>
    
    <input type="tel" id="mobile" placeholder="0xxxxxxxxx" autocomplete="off">
    <div id="msg" class="error-msg">Vui lòng nhập đủ 10 số!</div>

    <script>
        const input = document.getElementById('mobile');
        const msg = document.getElementById('msg');

        input.addEventListener('input', function() {
            // 1. CHẶN KÝ TỰ LẠ: Thay thế tất cả cái gì KHÔNG phải số thành rỗng
            this.value = this.value.replace(/[^0-9]/g, '');

            // 2. CHẶN ĐỘ DÀI: Nếu quá 10 ký tự, cắt phăng đi chỉ lấy 10 cái đầu
            if (this.value.length > 10) {
                this.value = this.value.slice(0, 10);
            }

            // 3. KIỂM TRA ĐỂ ĐỔI MÀU
            if (this.value.length === 10) {
                // Đủ 10 số -> Xanh
                this.classList.remove('invalid');
                this.classList.add('valid');
                msg.style.display = 'none';
            } else {
                // Chưa đủ -> Đỏ
                this.classList.remove('valid');
                this.classList.add('invalid');
                
                // Nếu ô trống thì không hiện lỗi, có nhập dở dang mới hiện
                if (this.value.length > 0) {
                    msg.style.display = 'block';
                } else {
                    msg.style.display = 'none';
                }
            }
        });
    </script>

</body>
</html>
