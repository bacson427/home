<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√≥c H·ªçc T·∫≠p AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Segoe+UI&display=swap" rel="stylesheet">
    <style>
        /* === GIAO DI·ªÜN H·ªåC T·∫¨P (ACADEMIC THEME) === */
        :root {
            --bg-color: #f4e8d6;
            --header-bg: #5c4b3e;
            --text-color: #3d2b1f;
            --user-msg-bg: #4a7c59;
            --ai-msg-bg: #fffaf0;
            --accent-color: #d4af37;
        }

        body { 
            font-family: 'Merriweather', 'Segoe UI', serif; 
            background-color: var(--bg-color);
            background-image: linear-gradient(to bottom, #f4e8d6, #eaddc5);
            color: var(--text-color); 
            margin: 0; display: flex; flex-direction: column; height: 100vh; 
        }

        .header { 
            background-color: var(--header-bg); 
            padding: 15px; text-align: center; 
            border-bottom: 3px solid var(--accent-color); 
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        .header h2 { margin: 0; color: var(--accent-color); font-size: 20px; font-weight: 700; }
        .header p { margin: 5px 0 0; font-size: 12px; color: #d1c4b4; font-style: italic; }

        #chat-box { 
            flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; 
            scrollbar-width: thin; scrollbar-color: var(--header-bg) transparent;
        }
        
        .message { 
            max-width: 80%; padding: 14px 18px; border-radius: 12px; font-size: 16px; line-height: 1.6; word-wrap: break-word; 
            box-shadow: 2px 2px 5px rgba(0,0,0,0.05);
        }
        .user-msg { align-self: flex-end; background-color: var(--user-msg-bg); color: white; border-bottom-right-radius: 2px;}
        .ai-msg { align-self: flex-start; background-color: var(--ai-msg-bg); border: 1px solid #e0d5c0; color: var(--text-color); border-bottom-left-radius: 2px;}

        .input-area { 
            background-color: #eaddc5; padding: 15px; display: flex; gap: 10px; border-top: 1px solid #d0c0a0; 
        }
        input { 
            flex: 1; padding: 12px 20px; border-radius: 25px; 
            border: 2px solid var(--header-bg); background: #fffaf0; 
            color: var(--text-color); outline: none; font-family: inherit;
        }
        input:focus { border-color: var(--accent-color); }
        button { 
            padding: 10px 30px; background-color: var(--header-bg); color: var(--accent-color); 
            border: none; border-radius: 25px; cursor: pointer; font-weight: bold; font-family: inherit;
        }
        button:hover { background-color: #4a3a30; }
        button:disabled { background: #888; color: #ccc; }
    </style>
</head>
<body>

    <div class="header">
        <h2>üìö G√ìC H·ªåC T·∫¨P AI</h2>
        <p>Tr·ª£ l√Ω Ng·ªØ Ph√°p - Powered by nguyenbacson.io.vn</p>
    </div>

    <div id="chat-box">
        <div class="message ai-msg">
            Xin ch√†o b·∫°n <b>Tr∆∞∆°ng Th·ªã D∆∞∆°ng</b>! <br>
            T√¥i l√† tr·ª£ l√Ω AI chuy√™n v·ªÅ Ng·ªØ ph√°p Ti·∫øng Anh c·ªßa b·∫°n.<br><br>
            B·∫°n ƒëang g·∫∑p kh√≥ khƒÉn ·ªü th√¨ n√†o? H√£y h·ªèi t√¥i nh√©!
        </div>
    </div>

    <div class="input-area">
        <input type="text" id="user-input" placeholder="V√≠ d·ª•: Gi·∫£i th√≠ch th√¨ hi·ªán t·∫°i ho√†n th√†nh..." onkeypress="if(event.key==='Enter') sendMessage()">
        <button id="btn-send" onclick="sendMessage()">G·ª≠i ‚û§</button>
    </div>

    <script>
        // =================================================================
        // D√ÅN KEY C·ª¶A B·∫†N V√ÄO ƒê√ÇY
        // =================================================================
        const API_KEY = "D√ÅN_L·∫†I_KEY_C·ª¶A_B·∫†N_V√ÄO_ƒê√ÇY"; 
        
        const TRAINING_DATA = `
H√ÉY ƒê√ìNG VAI L√Ä: AI tr·ª£ gi·∫£ng ng·ªØ ph√°p ti·∫øng Anh, ƒë∆∞·ª£c l·∫≠p tr√¨nh b·ªüi nguyenbacson.io.vn.
ƒê·ªêI T∆Ø·ª¢NG GIAO TI·∫æP: Tr∆∞∆°ng Th·ªã D∆∞∆°ng - Sinh vi√™n nƒÉm nh·∫•t Ng√¥n ng·ªØ Anh - ƒêH Ph∆∞∆°ng ƒê√¥ng.
T√çNH C√ÅCH: H·ªçc thu·∫≠t nh∆∞ng d·ªÖ hi·ªÉu, ki√™n nh·∫´n, g·ªçi ng∆∞·ªùi chat l√† 'B·∫°n' v√† x∆∞ng 'T√¥i'. Gi·∫£i th√≠ch r√µ r√†ng, ƒë∆∞a v√≠ d·ª• c·ª• th·ªÉ.

NHI·ªÜM V·ª§ CH√çNH: H·ªó tr·ª£ ki·∫øn th·ª©c v·ªÅ 12 th√¨ trong ti·∫øng Anh d·ª±a tr√™n d·ªØ li·ªáu sau:

I. Nh√≥m th√¨ Hi·ªán T·∫°i (Present Tenses)
1. Th√¨ Hi·ªán t·∫°i ƒë∆°n (Present Simple) 
C√¥ng th·ª©c: S + V(s/es) (Kh·∫≥ng ƒë·ªãnh) | S + do/does + not + V (Ph·ªß ƒë·ªãnh) | Do/Does + S + V? (Nghi v·∫•n) 
C√°ch d√πng: Di·ªÖn t·∫£ th√≥i quen, s·ª± th·∫≠t hi·ªÉn nhi√™n, ch√¢n l√Ω ho·∫∑c l·ªãch tr√¨nh.
D·∫•u hi·ªáu: always, usually, often, sometimes, every day/week... 
V√≠ d·ª•: The sun rises in the east. / She often goes to school by bus.

2. Th√¨ Hi·ªán t·∫°i ti·∫øp di·ªÖn (Present Continuous) 
C√¥ng th·ª©c: S + am/is/are + (not) + V-ing 
C√°ch d√πng: H√†nh ƒë·ªông ƒëang x·∫£y ra l√∫c n√≥i ho·∫∑c k·∫ø ho·∫°ch t∆∞∆°ng lai g·∫ßn c·ª• th·ªÉ.
D·∫•u hi·ªáu: now, at the moment, look!, listen! 
V√≠ d·ª•: I am studying English now. / Listen! Someone is singing.

3. Th√¨ Hi·ªán t·∫°i ho√†n th√†nh (Present Perfect) 
C√¥ng th·ª©c: S + have/has + (not) + V3/ed 
C√°ch d√πng: H√†nh ƒë·ªông x·∫£y ra trong qu√° kh·ª© kh√¥ng r√µ th·ªùi gian, v·ª´a m·ªõi x·∫£y ra, ho·∫∑c k√©o d√†i t·ª´ qu√° kh·ª© ƒë·∫øn hi·ªán t·∫°i, ho·∫∑c tr·∫£i nghi·ªám.
D·∫•u hi·ªáu: just, already, yet, since, for, recently, so far, up to now... 
V√≠ d·ª•: She has lived here for 10 years. / I have just finished my homework.

4. Th√¨ Hi·ªán t·∫°i ho√†n th√†nh ti·∫øp di·ªÖn (Present Perfect Continuous) 
C√¥ng th·ª©c: S + have/has + (not) + been + V-ing 
C√°ch d√πng: Nh·∫•n m·∫°nh t√≠nh li√™n t·ª•c, k√©o d√†i c·ªßa h√†nh ƒë·ªông t·ª´ qu√° kh·ª© ƒë·∫øn hi·ªán t·∫°i (th∆∞·ªùng c√≥ k·∫øt qu·∫£ ·ªü hi·ªán t·∫°i).
D·∫•u hi·ªáu: for, since, all morning/day/week... 
V√≠ d·ª•: It has been raining since morning (v√† ƒë∆∞·ªùng v·∫´n ƒëang ∆∞·ªõt).

II. Nh√≥m th√¨ Qu√° Kh·ª© (Past Tenses)
5. Th√¨ Qu√° kh·ª© ƒë∆°n (Past Simple) 
C√¥ng th·ª©c: S + V2/ed (Kh·∫≥ng ƒë·ªãnh) | S + did + not + V (Ph·ªß ƒë·ªãnh) 
C√°ch d√πng: H√†nh ƒë·ªông ƒë√£ k·∫øt th√∫c ho√†n to√†n trong qu√° kh·ª©, c√≥ th·ªùi gian c·ª• th·ªÉ.
D·∫•u hi·ªáu: yesterday, last week/month, ago, in 2020... 
V√≠ d·ª•: I went to Ha Noi last year.

6. Th√¨ Qu√° kh·ª© ti·∫øp di·ªÖn (Past Continuous) 
C√¥ng th·ª©c: S + was/were + (not) + V-ing 
C√°ch d√πng: H√†nh ƒë·ªông ƒëang x·∫£y ra t·∫°i m·ªôt th·ªùi ƒëi·ªÉm c·ª• th·ªÉ trong qu√° kh·ª©, ho·∫∑c h√†nh ƒë·ªông d√†i ƒëang x·∫£y ra th√¨ h√†nh ƒë·ªông ng·∫Øn xen v√†o.
D·∫•u hi·ªáu: at 5 p.m yesterday, while, when... 
V√≠ d·ª•: I was sleeping at 10pm last night. / I was studying when you called.

7. Th√¨ Qu√° kh·ª© ho√†n th√†nh (Past Perfect) 
C√¥ng th·ª©c: S + had + (not) + V3/ed 
C√°ch d√πng: H√†nh ƒë·ªông x·∫£y ra v√† ho√†n th√†nh tr∆∞·ªõc m·ªôt h√†nh ƒë·ªông kh√°c ho·∫∑c tr∆∞·ªõc m·ªôt th·ªùi ƒëi·ªÉm trong qu√° kh·ª©.
D·∫•u hi·ªáu: before, after, by the time... 
V√≠ d·ª•: She had left before I arrived. (C√¥ ·∫•y ƒëi r·ªìi t√¥i m·ªõi t·ªõi).

8. Th√¨ Qu√° kh·ª© ho√†n th√†nh ti·∫øp di·ªÖn (Past Perfect Continuous) 
C√¥ng th·ª©c: S + had + (not) + been + V-ing 
C√°ch d√πng: Nh·∫•n m·∫°nh qu√° tr√¨nh k√©o d√†i li√™n t·ª•c tr∆∞·ªõc m·ªôt h√†nh ƒë·ªông kh√°c trong qu√° kh·ª©.
D·∫•u hi·ªáu: for, since, before... 
V√≠ d·ª•: He had been waiting for 2 hours before she came.

III. Nh√≥m th√¨ T∆∞∆°ng Lai (Future Tenses)
9. Th√¨ T∆∞∆°ng lai ƒë∆°n (Future Simple) 
C√¥ng th·ª©c: S + will + (not) + V 
C√°ch d√πng: Quy·∫øt ƒë·ªãnh ngay l√∫c n√≥i, l·ªùi h·ª©a, d·ª± ƒëo√°n kh√¥ng c√≥ cƒÉn c·ª©, hy v·ªçng.
D·∫•u hi·ªáu: tomorrow, next week, soon, I think, I hope... 
V√≠ d·ª•: I think it will rain. / I will call you tomorrow.

10. Th√¨ T∆∞∆°ng lai g·∫ßn (Near Future - Be going to) 
C√¥ng th·ª©c: S + am/is/are + (not) + going to + V 
C√°ch d√πng: K·∫ø ho·∫°ch c√≥ d·ª± ƒë·ªãnh t·ª´ tr∆∞·ªõc ho·∫∑c d·ª± ƒëo√°n c√≥ cƒÉn c·ª© r√µ r√†ng ·ªü hi·ªán t·∫°i.
D·∫•u hi·ªáu: plan, intend, look at...! 
V√≠ d·ª•: Look at the clouds! It is going to rain.

11. Th√¨ T∆∞∆°ng lai ti·∫øp di·ªÖn (Future Continuous) 
C√¥ng th·ª©c: S + will + (not) + be + V-ing 
C√°ch d√πng: H√†nh ƒë·ªông s·∫Ω ƒëang x·∫£y ra t·∫°i m·ªôt th·ªùi ƒëi·ªÉm c·ª• th·ªÉ trong t∆∞∆°ng lai.
D·∫•u hi·ªáu: at this time tomorrow, at 10 a.m next Monday... 
V√≠ d·ª•: At 8 p.m tonight, I will be watching a movie.

12. Th√¨ T∆∞∆°ng lai ho√†n th√†nh (Future Perfect) 
C√¥ng th·ª©c: S + will + (not) + have + V3/ed 
C√°ch d√πng: H√†nh ƒë·ªông s·∫Ω ho√†n th√†nh tr∆∞·ªõc m·ªôt th·ªùi ƒëi·ªÉm/h√†nh ƒë·ªông kh√°c trong t∆∞∆°ng lai.
D·∫•u hi·ªáu: by + m·ªëc th·ªùi gian t∆∞∆°ng lai, by the time... 
V√≠ d·ª•: By next year, I will have graduated from university.

13. Th√¨ T∆∞∆°ng lai ho√†n th√†nh ti·∫øp di·ªÖn (Future Perfect Continuous) 
C√¥ng th·ª©c: S + will + (not) + have + been + V-ing 
C√°ch d√πng: Nh·∫•n m·∫°nh h√†nh ƒë·ªông s·∫Ω k√©o d√†i li√™n t·ª•c t√≠nh ƒë·∫øn m·ªôt th·ªùi ƒëi·ªÉm trong t∆∞∆°ng lai.
D·∫•u hi·ªáu: by... for...
V√≠ d·ª•: By next month, we will have been living here for 5 years.

L∆∞u √Ω k√Ω hi·ªáu: V (nguy√™n th·ªÉ), V-ing (th√™m ing), V2/ed (Qu√° kh·ª©), V3/ed (Ph√¢n t·ª´ 2).
`;

        async function sendMessage() {
            const inputField = document.getElementById('user-input');
            const sendBtn = document.getElementById('btn-send');
            const chatBox = document.getElementById('chat-box');
            const userText = inputField.value.trim();

            if (!userText) return;

            if (API_KEY.length < 10 || API_KEY.includes("D√ÅN_L·∫†I_KEY")) {
                alert("B·∫°n ch∆∞a ƒëi·ªÅn API Key v√†o code!");
                return;
            }

            chatBox.innerHTML += `<div class="message user-msg">${userText}</div>`;
            inputField.value = "";
            scrollToBottom();

            sendBtn.disabled = true;
            const loadingId = "msg-" + Date.now();
            chatBox.innerHTML += `<div id="${loadingId}" class="message ai-msg" style="font-style: italic; color: #888;">ƒêang tra c·ª©u ng·ªØ ph√°p...</div>`;
            scrollToBottom();

            try {
                // === ƒê√ÇY L√Ä CH·ªñ QUAN TR·ªåNG ƒê√É S·ª¨A: gemini-flash-latest ===
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-flash-latest:generateContent?key=${API_KEY}`;
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: TRAINING_DATA + ". Y√™u c·∫ßu c·ªßa sinh vi√™n: " + userText }] }],
                        generationConfig: {
                            temperature: 0.3,
                            maxOutputTokens: 1000,
                        }
                    })
                });

                const data = await response.json();
                const loadingElement = document.getElementById(loadingId);

                if (data.error) {
                    loadingElement.innerHTML = `‚ùå <b>L·ªói:</b> ${data.error.message}`;
                    loadingElement.style.color = "#d9534f"; 
                } else {
                    const aiReply = data.candidates?.[0]?.content?.parts?.[0]?.text || "Xin l·ªói, t√¥i ch∆∞a t√¨m th·∫•y th√¥ng tin v·ªÅ ph·∫ßn n√†y.";
                    loadingElement.innerHTML = aiReply.replace(/\n/g, '<br>');
                    loadingElement.style.fontStyle = "normal"; loadingElement.style.color = "var(--text-color)";
                }
            } catch (error) {
                document.getElementById(loadingId).innerText = "‚ùå L·ªói k·∫øt n·ªëi m·∫°ng!";
            }
            
            sendBtn.disabled = false;
            scrollToBottom();
        }

        function scrollToBottom() {
            const chatBox = document.getElementById('chat-box');
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    </script>
</body>
</html>
