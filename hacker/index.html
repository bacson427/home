<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrix Rain (Phiên bản tùy chỉnh)</title>
    
    <style>
        /* Đảm bảo không có viền trắng hay thanh cuộn */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Ẩn thanh cuộn */
            background-color: #000; /* Nền đen tuyền */
        }

        /* Đảm bảo canvas nằm đúng vị trí */
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="matrixCanvas"></canvas>

    <script>
        // Lấy phần tử canvas từ HTML
        const canvas = document.getElementById('matrixCanvas');
        const ctx = canvas.getContext('2d');

        // Thiết lập canvas lấp đầy màn hình
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Chuỗi ký tự sẽ rơi (Chỉ dùng chữ La Tinh và số)
        const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'; // Chữ cái La Tinh
        const nums = '0123456789'; // Số
        const alphabet = latin + nums; // Kết hợp cả chữ và số

        // Thiết lập kích thước font và tính toán số cột
        const fontSize = 16;
        const columns = Math.floor(canvas.width / fontSize);

        // Tạo một mảng 'drops' (giọt mưa)
        const drops = [];
        for (let x = 0; x < columns; x++) {
            drops[x] = 1; 
        }

        // Hàm vẽ chính (vẽ các ký tự ngẫu nhiên)
        function draw() {
            // 1. Làm mờ màn hình (tạo hiệu ứng đuôi mờ dần)
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // 2. Thiết lập màu và font chữ cho các ký tự rơi
            ctx.fillStyle = '#0F0'; // Màu xanh lá cây
            ctx.font = fontSize + 'px monospace';
            ctx.textAlign = 'left'; // Reset lại căn lề cho các giọt mưa

            // 3. Lặp qua tất cả các cột
            for (let i = 0; i < drops.length; i++) {
                // Chọn một ký tự ngẫu nhiên
                const text = alphabet[Math.floor(Math.random() * alphabet.length)];

                // Vẽ ký tự
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                // Di chuyển 'drop' xuống dưới
                drops[i]++;

                // 4. Reset 'drop' về đầu màn hình nếu nó đi quá xa
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0; 
                }
            }
        }

        // Chạy hàm draw lặp đi lặp lại (hiệu ứng mưa)
        setInterval(draw, 33); // Khoảng 30fps

        // *** PHẦN THÊM MỚI THEO YÊU CẦU CỦA BẠN ***
        // Vòng lặp này chạy 1.5 phút (90000 ms) một lần
        setInterval(() => {
            // Thiết lập font chữ đặc biệt (màu trắng, to, căn giữa)
            ctx.fillStyle = '#FFF'; // Màu trắng cho nổi bật
            ctx.font = '30px monospace';
            ctx.textAlign = 'center'; // Căn chữ ra giữa

            // Vẽ 2 dòng text của bạn vào giữa màn hình
            // Hàm draw() chính sẽ tự động làm mờ nó đi
            ctx.fillText('nguyenbacson.io.vn', canvas.width / 2, canvas.height / 2 - 20);
            ctx.fillText('Nguyen Bac Son - My Bio', canvas.width / 2, canvas.height / 2 + 20);

        }, 90000); // 90,000 milliseconds = 1.5 phút

        // Cập nhật kích thước canvas nếu người dùng thay đổi kích thước cửa sổ
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const newColumns = Math.floor(canvas.width / fontSize);
            
            if (newColumns > columns) {
                for (let x = columns; x < newColumns; x++) {
                    drops[x] = 1;
                }
            } else {
                drops.length = newColumns;
            }
        });
    </script>
</body>
</html>
